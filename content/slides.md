# Scientific Reproducibility


# With Dexy & Docker


## Welcome

Today's talk = high level overview, interactive demo

Etherpad: <http://etherpad.mozilla.org/pywork-dexy-docker>

Step-by-step tutorial for absolute beginners:
<http://dexy.it/docs/getting-started.html>

Live examples:
<https://github.com/ananelson/dexy-templates>
<https://github.com/ananelson/dexy-experiments>

Contact me with questions/support requests/feedback!

[@ananelson](http://twitter.com/ananelson) &bull; <ana@ananelson.com>
[@dexyit](http://twitter.com/dexyit) &bull; <info@dexy.it>


## Goal

Create documents
based on source files
reproducibly.


## Reproducibility

Reliably repeat
the same steps
in the same order
in a sufficiently similar environment.


## Dexy & Docker

Docker - create reproducible environments.
Dexy - project & document automation.


## Example Document

<iframe src="article.html" width="800px" height="500px">
</iframe>


## Dexy or IPython Notebook?

IPython: "notebook" paradigm
Dexy: "project" paradigm

Dexy is more flexible, but more complicated.

For ease-of-use and less formal data exploration, use IPython Notebook.

Dexy advantages:

- general project automation
- stricter reproducibility/smarter caching
- multiple documents per project
- any [combination of] document format[s]
- any [combination of] programming language[s]


## Example Document

<iframe style="border: thin solid grey;" src="article.html#simple-contour-plot" width="800px" height="200px">
</iframe>

Document written in markdown, converted to HTML.

Inputs to this document:
- Chunks of Python code with syntax highlighting.
- Chunks of the same Python code, executed in the Python console, with syntax highlighting.
- Images which were generated by running the same Python code.


## Using Dexy

Dependencies, not steps. (Dexy calculates the order of steps.)

{{ d['dexy.yaml|idio']['article'] }}


## Document Templates

<iframe style="border: thin solid grey;" src="article.html#generating-data" width="800px" height="200px">
</iframe>
{{ d['article.md|idio']['generating-data'] }}


## Source Code

{% set source_code = unicode(d['contour_demo.py|pyg']).splitlines() -%}
{{ "\n".join(source_code[0:10]) }}
...
{{ "\n".join(source_code[-8:]) }}


## A Context for Dexy

Installing Python:

{{ d['Dockerfile|idio']['python'] }}
Installing Scipy:

{{ d['Dockerfile|idio']['scipy'] }}


## Working with Data & Images

Dexy is smart about inputs and outputs.

Inputs such as:
- data files

Outputs such as:
- generated/calculated data
- images (media)

You don't have to keep track of versions of generated output files.

JSON is a useful format, widely supported, human-readable.


## Excel Export Example

{{ d['Dockerfile|idio']['python-packages'] }}
{{ d['contour_demo.py|idio']['excel'] }}


## Just Images, No Code

{{ d['Dockerfile|idio']['latex'] }}
{{ d['dexy.yaml|idio']['images-only'] }}
